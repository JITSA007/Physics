<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dr. Harshpreet Cheema | Material Scientist</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Modern, Geometric, Clean -->
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;700;800&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        material: {
                            bg: '#0F1115', // Ultra dark matte
                            surface: '#181A20',
                            primary: '#6366f1', // Indigo
                            accent: '#06b6d4', // Cyan
                            glass: 'rgba(255, 255, 255, 0.03)',
                            border: 'rgba(255, 255, 255, 0.08)',
                        }
                    },
                    fontFamily: {
                        heading: ['Outfit', 'sans-serif'],
                        body: ['Inter', 'sans-serif'],
                    },
                    animation: {
                        'float': 'float 8s ease-in-out infinite',
                        'spin-slow': 'spin 15s linear infinite',
                        'pulse-glow': 'pulse-glow 3s infinite',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-20px)' },
                        },
                        'pulse-glow': {
                            '0%, 100%': { opacity: 0.5, transform: 'scale(1)' },
                            '50%': { opacity: 1, transform: 'scale(1.1)' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        /* Modern Reset & Base */
        body {
            background-color: #0F1115;
            color: #E2E8F0;
            overflow-x: hidden;
        }

        /* Glassmorphism Utilities */
        .glass {
            background: rgba(255, 255, 255, 0.02);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
        }

        .glass-high {
            background: rgba(20, 20, 25, 0.7);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        /* Card Hover Effects */
        .physics-card {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .physics-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(6, 182, 212, 0.5), transparent);
            transform: translateX(-100%);
            transition: transform 0.6s;
        }

        .physics-card:hover::before {
            transform: translateX(100%);
        }

        .physics-card:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.05);
            border-color: rgba(6, 182, 212, 0.3);
            box-shadow: 0 10px 40px -10px rgba(6, 182, 212, 0.15);
        }

        /* 3D Atom Animation */
        .atom-container {
            position: relative;
            width: 300px;
            height: 300px;
            transform-style: preserve-3d;
            animation: float 8s ease-in-out infinite;
        }

        .nucleus {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 40px;
            height: 40px;
            background: radial-gradient(circle at 30% 30%, #06b6d4, #3b82f6);
            border-radius: 50%;
            box-shadow: 0 0 30px rgba(6, 182, 212, 0.6);
            z-index: 10;
        }

        .orbit {
            position: absolute;
            top: 50%;
            left: 50%;
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            transform-style: preserve-3d;
        }

        .orbit-1 { width: 280px; height: 100px; transform: translate(-50%, -50%) rotateZ(0deg) rotateY(60deg); animation: rotate-orbit 10s linear infinite; }
        .orbit-2 { width: 280px; height: 100px; transform: translate(-50%, -50%) rotateZ(60deg) rotateY(60deg); animation: rotate-orbit 10s linear infinite reverse; }
        .orbit-3 { width: 280px; height: 100px; transform: translate(-50%, -50%) rotateZ(-60deg) rotateY(60deg); animation: rotate-orbit 8s linear infinite; }

        .electron {
            position: absolute;
            top: 0;
            left: 50%;
            width: 12px;
            height: 12px;
            background: #fff;
            border-radius: 50%;
            box-shadow: 0 0 10px #fff;
            transform: translate(-50%, -50%);
        }

        @keyframes rotate-orbit {
            0% { transform: translate(-50%, -50%) rotateZ(var(--angle)) rotateY(60deg) rotateX(0deg); }
            100% { transform: translate(-50%, -50%) rotateZ(var(--angle)) rotateY(60deg) rotateX(360deg); }
        }

        /* Typography Gradients */
        .text-gradient {
            background: linear-gradient(135deg, #E2E8F0 0%, #94A3B8 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .text-gradient-accent {
            background: linear-gradient(135deg, #06b6d4 0%, #6366f1 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* Canvas */
        #lattice-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
        }
    </style>
</head>
<body class="font-body selection:bg-material-accent selection:text-white">

    <!-- Condensed Matter Simulation Background -->
    <canvas id="lattice-canvas"></canvas>

    <!-- Navigation -->
    <nav class="fixed w-full z-50 glass-high transition-all duration-300" id="navbar">
        <div class="max-w-7xl mx-auto px-6 lg:px-8">
            <div class="flex justify-between items-center h-20">
                <!-- Brand -->
                <div class="flex items-center gap-3 cursor-pointer" onclick="window.scrollTo(0,0)">
                    <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-material-accent to-material-primary flex items-center justify-center text-white shadow-lg shadow-cyan-500/20">
                        <i data-lucide="hexagon" class="h-6 w-6"></i>
                    </div>
                    <div>
                        <span class="font-heading font-bold text-xl tracking-tight text-white">Dr. Cheema</span>
                    </div>
                </div>

                <!-- Desktop Links -->
                <div class="hidden md:flex space-x-10 items-center">
                    <a href="#home" class="text-sm font-medium text-slate-400 hover:text-white transition-colors relative group">
                        Home
                        <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-material-accent transition-all group-hover:w-full"></span>
                    </a>
                    <a href="#research" class="text-sm font-medium text-slate-400 hover:text-white transition-colors relative group">
                        Research
                        <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-material-accent transition-all group-hover:w-full"></span>
                    </a>
                    <a href="#experience" class="text-sm font-medium text-slate-400 hover:text-white transition-colors relative group">
                        Timeline
                        <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-material-accent transition-all group-hover:w-full"></span>
                    </a>
                    <a href="#contact" class="px-5 py-2.5 glass text-white text-sm font-medium rounded-lg hover:bg-white/10 transition-all border border-white/10 hover:border-material-accent/50">
                        Get in Touch
                    </a>
                </div>

                <!-- Mobile Menu Icon -->
                <div class="md:hidden">
                    <button id="mobile-menu-btn" class="text-white p-2">
                        <i data-lucide="menu" class="h-6 w-6"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile Nav -->
        <div id="mobile-menu" class="hidden md:hidden glass border-t border-white/5 absolute w-full">
            <div class="px-4 py-6 space-y-4">
                <a href="#home" class="block text-slate-300 hover:text-white font-medium">Home</a>
                <a href="#research" class="block text-slate-300 hover:text-white font-medium">Research</a>
                <a href="#experience" class="block text-slate-300 hover:text-white font-medium">Experience</a>
                <a href="#contact" class="block text-material-accent font-medium">Contact</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="relative pt-32 pb-20 lg:pt-48 lg:pb-32 min-h-screen flex items-center">
        <!-- Radial Gradient Glow -->
        <div class="absolute top-1/4 left-1/4 w-96 h-96 bg-material-primary rounded-full filter blur-[150px] opacity-20 animate-pulse-glow"></div>
        <div class="absolute bottom-1/4 right-1/4 w-96 h-96 bg-material-accent rounded-full filter blur-[150px] opacity-20 animate-pulse-glow" style="animation-delay: 1.5s;"></div>

        <div class="max-w-7xl mx-auto px-6 lg:px-8 w-full z-10 grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
            
            <!-- Content -->
            <div>
                <div class="inline-flex items-center gap-2 px-4 py-1.5 rounded-full glass border-material-accent/30 text-material-accent text-xs font-semibold tracking-wide uppercase mb-8">
                    <span class="w-1.5 h-1.5 rounded-full bg-material-accent animate-pulse"></span>
                    Condensed Matter Physicist
                </div>
                
                <h1 class="font-heading text-6xl md:text-8xl font-bold text-white leading-none mb-6 tracking-tight">
                    Material <br>
                    <span class="text-gradient-accent">Science.</span>
                </h1>
                
                <p class="text-lg md:text-xl text-slate-400 mb-10 max-w-lg font-light leading-relaxed">
                    Dr. Harshpreet Cheema. Exploring the quantum properties of <span class="text-white font-medium">Nano-ferrites</span> and designing next-gen <span class="text-white font-medium">Energy Storage</span> systems at Jaipur National University.
                </p>
                
                <div class="flex flex-wrap gap-4">
                    <a href="#research" class="group px-8 py-4 bg-white text-material-bg font-bold rounded-xl hover:bg-slate-200 transition-all flex items-center gap-2">
                        View Research
                        <i data-lucide="arrow-right" class="h-4 w-4 transition-transform group-hover:translate-x-1"></i>
                    </a>
                    <a href="#contact" class="px-8 py-4 glass text-white font-medium rounded-xl hover:bg-white/5 transition-all flex items-center gap-2">
                        Contact Me
                    </a>
                </div>
            </div>

            <!-- Visual: 3D Atom -->
            <div class="flex justify-center lg:justify-end perspective-1000">
                <div class="atom-container">
                    <div class="nucleus"></div>
                    <div class="orbit orbit-1" style="--angle: 0deg;"><div class="electron"></div></div>
                    <div class="orbit orbit-2" style="--angle: 60deg;"><div class="electron"></div></div>
                    <div class="orbit orbit-3" style="--angle: 120deg;"><div class="electron"></div></div>
                </div>
            </div>

        </div>
    </section>

    <!-- Stats / Intro -->
    <section class="py-12 border-y border-white/5 bg-white/0.5">
        <div class="max-w-7xl mx-auto px-6 lg:px-8">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-8">
                <div class="text-center md:text-left">
                    <h3 class="text-4xl font-heading font-bold text-white mb-1">10+</h3>
                    <p class="text-sm text-slate-500 uppercase tracking-wider font-medium">Publications</p>
                </div>
                <div class="text-center md:text-left">
                    <h3 class="text-4xl font-heading font-bold text-white mb-1">2024</h3>
                    <p class="text-sm text-slate-500 uppercase tracking-wider font-medium">Ph.D. Awarded</p>
                </div>
                <div class="text-center md:text-left">
                    <h3 class="text-4xl font-heading font-bold text-white mb-1">3rd</h3>
                    <p class="text-sm text-slate-500 uppercase tracking-wider font-medium">ARCI Prize</p>
                </div>
                <div class="text-center md:text-left">
                    <h3 class="text-4xl font-heading font-bold text-white mb-1">Li+</h3>
                    <p class="text-sm text-slate-500 uppercase tracking-wider font-medium">Ion Research</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Research Grid -->
    <section id="research" class="py-32 relative">
        <div class="max-w-7xl mx-auto px-6 lg:px-8">
            <div class="flex flex-col md:flex-row justify-between items-end mb-16 gap-6">
                <div>
                    <h2 class="text-4xl md:text-5xl font-heading font-bold text-white mb-4">Research <span class="text-slate-600">Focus</span></h2>
                    <p class="text-slate-400 max-w-xl">Investigating the structural, magnetic, and electrical properties of materials to engineer efficient solutions for the future.</p>
                </div>
                <div class="hidden md:block w-32 h-px bg-white/20"></div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Card 1 -->
                <div class="glass physics-card p-8 rounded-2xl group">
                    <div class="w-12 h-12 rounded-lg bg-material-primary/10 flex items-center justify-center text-material-primary mb-6 group-hover:scale-110 transition-transform duration-300">
                        <i data-lucide="atom" class="h-6 w-6"></i>
                    </div>
                    <h3 class="text-xl font-heading font-bold text-white mb-3">Nano-ferrites</h3>
                    <p class="text-slate-400 text-sm leading-relaxed mb-6">Synthesis of magnetic nanoparticles (ZnFe2O4) for advanced electronic applications using Sol-Gel methods.</p>
                    <div class="flex flex-wrap gap-2">
                        <span class="text-xs font-medium px-2 py-1 rounded bg-white/5 text-slate-300">Magnetism</span>
                        <span class="text-xs font-medium px-2 py-1 rounded bg-white/5 text-slate-300">Nanotech</span>
                    </div>
                </div>

                <!-- Card 2 -->
                <div class="glass physics-card p-8 rounded-2xl group">
                    <div class="w-12 h-12 rounded-lg bg-material-accent/10 flex items-center justify-center text-material-accent mb-6 group-hover:scale-110 transition-transform duration-300">
                        <i data-lucide="battery-charging" class="h-6 w-6"></i>
                    </div>
                    <h3 class="text-xl font-heading font-bold text-white mb-3">Energy Storage</h3>
                    <p class="text-slate-400 text-sm leading-relaxed mb-6">Developing high-efficiency electrodes for Li-ion batteries and supercapacitors to power sustainable tech.</p>
                    <div class="flex flex-wrap gap-2">
                        <span class="text-xs font-medium px-2 py-1 rounded bg-white/5 text-slate-300">Li-ion</span>
                        <span class="text-xs font-medium px-2 py-1 rounded bg-white/5 text-slate-300">Electrodes</span>
                    </div>
                </div>

                <!-- Card 3 -->
                <div class="glass physics-card p-8 rounded-2xl group">
                    <div class="w-12 h-12 rounded-lg bg-purple-500/10 flex items-center justify-center text-purple-400 mb-6 group-hover:scale-110 transition-transform duration-300">
                        <i data-lucide="layers" class="h-6 w-6"></i>
                    </div>
                    <h3 class="text-xl font-heading font-bold text-white mb-3">Perovskites</h3>
                    <p class="text-slate-400 text-sm leading-relaxed mb-6">Structural analysis of BaTiO3 and other Perovskite oxides for high-k dielectric material applications.</p>
                    <div class="flex flex-wrap gap-2">
                        <span class="text-xs font-medium px-2 py-1 rounded bg-white/5 text-slate-300">Dielectrics</span>
                        <span class="text-xs font-medium px-2 py-1 rounded bg-white/5 text-slate-300">Ceramics</span>
                    </div>
                </div>

                <!-- Card 4: Publication Highlight -->
                <div class="glass physics-card p-8 rounded-2xl group md:col-span-2 lg:col-span-3 flex flex-col md:flex-row gap-8 items-center border border-material-accent/20">
                    <div class="flex-1">
                        <div class="inline-block px-3 py-1 rounded-full bg-material-accent/10 text-material-accent text-xs font-bold mb-4">Featured Publication</div>
                        <h3 class="text-2xl font-heading font-bold text-white mb-4">Structural, optical and electrical properties of Mn-doped ZnFe2O4</h3>
                        <p class="text-slate-400 mb-6">Published in <em>Journal of Material Science: Materials in Electronics (2021)</em>. A deep dive into how manganese doping affects the physical properties of Zinc Ferrite nanoparticles synthesized via sol-gel.</p>
                        <a href="#" class="text-white font-medium hover:text-material-accent inline-flex items-center gap-2">
                            Read Publication <i data-lucide="external-link" class="h-4 w-4"></i>
                        </a>
                    </div>
                    <div class="w-full md:w-1/3 h-48 bg-gradient-to-br from-slate-800 to-slate-900 rounded-xl border border-white/5 flex items-center justify-center relative overflow-hidden">
                        <!-- Abstract Wave Visual -->
                         <svg class="absolute inset-0 w-full h-full opacity-30" viewBox="0 0 100 100" preserveAspectRatio="none">
                             <path d="M0 50 Q 25 20 50 50 T 100 50" fill="none" stroke="#06b6d4" stroke-width="2"/>
                             <path d="M0 50 Q 25 80 50 50 T 100 50" fill="none" stroke="#6366f1" stroke-width="2"/>
                         </svg>
                         <i data-lucide="file-text" class="h-12 w-12 text-slate-500"></i>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Experience Timeline -->
    <section id="experience" class="py-20 relative overflow-hidden">
        <div class="max-w-4xl mx-auto px-6 lg:px-8 relative z-10">
            <h2 class="text-4xl font-heading font-bold text-white mb-16 text-center">Professional <span class="text-gradient-accent">Timeline</span></h2>
            
            <div class="relative pl-8 border-l border-white/10 space-y-12">
                
                <!-- Item 1 -->
                <div class="relative pl-8">
                    <div class="absolute -left-[37px] top-1.5 w-5 h-5 rounded-full bg-material-bg border-2 border-material-accent shadow-[0_0_15px_rgba(6,182,212,0.5)]"></div>
                    <div class="glass p-6 rounded-xl hover:bg-white/5 transition-colors">
                        <span class="text-material-accent text-xs font-bold tracking-wider uppercase">Jan 2025 - Present</span>
                        <h3 class="text-xl font-bold text-white mt-2">Assistant Professor</h3>
                        <p class="text-slate-400 mt-1">Jaipur National University, Rajasthan</p>
                    </div>
                </div>

                <!-- Item 2 -->
                <div class="relative pl-8">
                    <div class="absolute -left-[37px] top-1.5 w-5 h-5 rounded-full bg-material-bg border-2 border-slate-600"></div>
                    <div class="glass p-6 rounded-xl hover:bg-white/5 transition-colors">
                        <span class="text-slate-500 text-xs font-bold tracking-wider uppercase">Jul 2024 - Jan 2025</span>
                        <h3 class="text-xl font-bold text-white mt-2">Assistant Professor</h3>
                        <p class="text-slate-400 mt-1">Mewar University, Chittorgarh</p>
                    </div>
                </div>

                <!-- Item 3 -->
                <div class="relative pl-8">
                    <div class="absolute -left-[37px] top-1.5 w-5 h-5 rounded-full bg-material-bg border-2 border-slate-600"></div>
                    <div class="glass p-6 rounded-xl hover:bg-white/5 transition-colors">
                        <span class="text-slate-500 text-xs font-bold tracking-wider uppercase">2020 - 2024</span>
                        <h3 class="text-xl font-bold text-white mt-2">Ph.D. Research Scholar</h3>
                        <p class="text-slate-400 mt-1">Banasthali Vidyapith</p>
                        <p class="text-sm text-slate-500 mt-2 italic">Thesis: Physical Properties of Modified ZnFe2O4 and BaTiO3 nanocomposite</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer / Contact -->
    <footer id="contact" class="border-t border-white/5 bg-black/20 pt-20 pb-10">
        <div class="max-w-7xl mx-auto px-6 lg:px-8">
            <div class="glass p-10 rounded-3xl mb-12 flex flex-col md:flex-row justify-between items-center gap-8">
                <div>
                    <h2 class="text-3xl font-heading font-bold text-white mb-2">Ready to Collaborate?</h2>
                    <p class="text-slate-400">Open for research partnerships and academic discourse.</p>
                </div>
                <div class="flex gap-4">
                    <a href="mailto:harshpreetcheema26@gmail.com" class="px-6 py-3 bg-white text-material-bg font-bold rounded-lg hover:bg-slate-200 transition-colors flex items-center gap-2">
                        <i data-lucide="mail" class="h-4 w-4"></i> Email Me
                    </a>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-sm text-slate-400 border-t border-white/5 pt-8">
                <div>
                    <h4 class="text-white font-bold mb-4 flex items-center gap-2"><i data-lucide="map-pin" class="h-4 w-4"></i> Location</h4>
                    <p>Jaipur National University,<br>Jaipur, Rajasthan, India</p>
                </div>
                <div>
                    <h4 class="text-white font-bold mb-4 flex items-center gap-2"><i data-lucide="phone" class="h-4 w-4"></i> Contact</h4>
                    <p>+91 9306411019</p>
                    <p>harshpreetcheema26@gmail.com</p>
                </div>
                <div>
                    <h4 class="text-white font-bold mb-4 flex items-center gap-2"><i data-lucide="share-2" class="h-4 w-4"></i> Socials</h4>
                    <div class="flex gap-4">
                        <a href="#" class="hover:text-white transition-colors"><i data-lucide="linkedin" class="h-5 w-5"></i></a>
                        <a href="#" class="hover:text-white transition-colors"><i data-lucide="twitter" class="h-5 w-5"></i></a>
                        <a href="#" class="hover:text-white transition-colors"><i data-lucide="graduation-cap" class="h-5 w-5"></i></a>
                    </div>
                </div>
            </div>
            
            <div class="text-center mt-12 text-slate-600 text-xs">
                &copy; 2025 Dr. Harshpreet Cheema. Design inspired by Condensed Matter Physics.
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script>
        // Initialize Icons
        lucide.createIcons();

        // Mobile Menu
        const btn = document.getElementById('mobile-menu-btn');
        const menu = document.getElementById('mobile-menu');
        btn.addEventListener('click', () => menu.classList.toggle('hidden'));

        // --------------------------------------------------------
        // CONDENSED MATTER LATTICE SIMULATION
        // Simulates atoms (nodes) connected by bonds (springs)
        // --------------------------------------------------------
        const canvas = document.getElementById('lattice-canvas');
        const ctx = canvas.getContext('2d');
        let width, height;
        let particles = [];
        
        // Configuration
        const spacing = 100; // Distance between lattice points
        const stiffness = 0.05; // Spring stiffness
        const friction = 0.90; // Damping
        const mouseRadius = 200; 

        let mouse = { x: -1000, y: -1000 };

        window.addEventListener('mousemove', e => {
            mouse.x = e.clientX;
            mouse.y = e.clientY;
        });

        function resize() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
            initLattice();
        }
        window.addEventListener('resize', resize);

        class Particle {
            constructor(x, y, fixed = false) {
                this.x = x;
                this.y = y;
                this.origX = x;
                this.origY = y;
                this.vx = 0;
                this.vy = 0;
                this.fixed = fixed; // If true, tries to return to original position strongly
            }

            update() {
                if (this.fixed) {
                    // Hooke's Law to return to original position
                    const dx = this.origX - this.x;
                    const dy = this.origY - this.y;
                    this.vx += dx * stiffness;
                    this.vy += dy * stiffness;
                }

                // Mouse interaction (Repulsion)
                const dx = mouse.x - this.x;
                const dy = mouse.y - this.y;
                const dist = Math.sqrt(dx * dx + dy * dy);

                if (dist < mouseRadius) {
                    const force = (mouseRadius - dist) / mouseRadius;
                    const angle = Math.atan2(dy, dx);
                    const push = force * 2; // Strength
                    this.vx -= Math.cos(angle) * push;
                    this.vy -= Math.sin(angle) * push;
                }

                this.vx *= friction;
                this.vy *= friction;
                this.x += this.vx;
                this.y += this.vy;
            }

            draw() {
                ctx.fillStyle = 'rgba(99, 102, 241, 0.5)'; // Indigo-ish node
                ctx.beginPath();
                ctx.arc(this.x, this.y, 2, 0, Math.PI * 2);
                ctx.fill();
            }
        }

        function initLattice() {
            particles = [];
            // Create a grid
            for (let y = 0; y < height + spacing; y += spacing) {
                for (let x = 0; x < width + spacing; x += spacing) {
                    // Add slight offset for hexagonal-ish look
                    const offsetX = (Math.floor(y / spacing) % 2) * (spacing / 2);
                    particles.push(new Particle(x + offsetX, y, true));
                }
            }
        }

        function animate() {
            ctx.clearRect(0, 0, width, height);

            // Draw connections first (bonds)
            ctx.strokeStyle = 'rgba(255, 255, 255, 0.05)';
            ctx.lineWidth = 1;
            ctx.beginPath();
            
            particles.forEach((p, i) => {
                p.update();
                
                // Connect to neighbors
                // Simple distance check for visualization speed
                for (let j = i + 1; j < particles.length; j++) {
                    const p2 = particles[j];
                    const dx = p.x - p2.x;
                    const dy = p.y - p2.y;
                    const distSq = dx*dx + dy*dy;
                    
                    // Draw bond if close enough
                    if (distSq < spacing * spacing * 1.8) {
                        ctx.moveTo(p.x, p.y);
                        ctx.lineTo(p2.x, p2.y);
                    }
                }
            });
            ctx.stroke();

            // Draw nodes
            particles.forEach(p => p.draw());

            requestAnimationFrame(animate);
        }

        // Start
        resize();
        animate();

    </script>
</body>
</html>
